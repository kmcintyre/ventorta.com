<link rel="import" href="../bower_components/polymer/polymer-element.html">
<link rel="import" href="../bower_components/iron-ajax/iron-ajax.html">

<link rel="import" href="my-instance.html">

<dom-module id="my-view3">
   <template>
      <style>
      	:host {}   
      	#myinstances {
      		width: 100%;
	       	text-align: center;
      	}      	
      </style>
     	
  		<iron-ajax
                 auto
                 url="{{domain('/site/all/instances')}}"
                 handle-as="json"
                 last-response="{{instances}}"
                 debounce-duration="300"></iron-ajax>
      
      <div id="myinstances">
      	<template is="dom-repeat" items="[[instances]]" as="instance">
      		<my-instance instance="{{ instance }}"></my-instance>
      	</template>	  	
	  </div>
   </template>
   <script>
		class MyView3 extends Polymer.Element {
		  static get is() { return 'my-view3'; }
		  constructor() {
		    super();
		    console.log('my view 3:', store)
		  }
   	     domain(url) {
   	         return '//service.' + nativeDomain() + url
   	     }

		}            
      	customElements.define(MyView3.is, MyView3);      
   </script>
</dom-module>