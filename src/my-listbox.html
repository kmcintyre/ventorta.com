<link rel="import" href="../bower_components/polymer/polymer-element.html">
<link rel="import" href="../bower_components/paper-listbox/paper-listbox.html">
<link rel="import" href="../bower_components/paper-item/paper-item.html">
<dom-module id="my-listbox">
   <template>
      <style>
         :host {
         --app-drawer-width: 200px;
         }      
         paper-listbox paper-item {
         cursor: pointer;
         }
         paper-item div {
         display:none;
         }
         div.iron-selected {
         width: 100%;
         height: 100%;
         }
         .toc-item {
         overflow: hidden;
         }         
         .toc-item i {
         display: inline-block;
         font-style: normal;
         width: 24px;
         min-width: 24px;
         background: #fff;
         border-radius: 50%;
         text-align: center;
         height: 24px;
         vertical-align: middle;
         line-height: 24px;
         border: 2px solid #bdbdbd;
         margin-right: 8px;
         font-weight: 400;
         }
         .toc-item i::before, .toc-item i::after {
         content: '';
         display: block;
         border-left: 1px solid #bdbdbd;
         width: 0;
         height: 44px;
         z-index: 1;
         margin-top: 1px;
         }    
         .toc-item i::before {
         margin-top: -44px;
         margin-left: 11px;
         }
         .toc-item i::after {
         margin-left: 11px;
         }         
         .toc-item.iron-selected i {
         border-color: #2196f3;
         }         
         .toc-item:first-of-type i::before, .toc-item:last-of-type i::after {
         display: none;
         }           
      </style>
      <paper-listbox selected="{{selected}}">
         <template is="dom-repeat" items="{{items}}">
            <paper-item name$="[[item]]" class="toc-item">
               <i>{{displayIndex(index)}}</i><span>{{item.name}}</span>
               <template is="dom-if" if="{{showsub(index, selected)}}">
                  <div>subview</div>
               </template>
            </paper-item>
         </template>
      </paper-listbox>
   </template>
   <script>
      Polymer({
        is: 'my-listbox',
        ready: function () {
        	this.set('selected', 3);
        },
        displayIndex: function(index) {
            return index + 1;
        },
        properties: {
    	  selected: {
            notify: true
          },
          items: {
            type: Array,
            value: function() {
              return [{name: 'Throughput'}, {name: lingo.leagues}, {name: 'Stream'}, {name: 'Systems'}];
            }
          }
        },
        showsub: function(ind, selected) {
        	return ind == selected
        },
      });
   </script>
</dom-module>
