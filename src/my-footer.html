<link rel="import" href="../bower_components/polymer/polymer-element.html">
<link rel="import" href="../bower_components/paper-fab/paper-fab.html">


<dom-module id="my-footer">
   <template>
      <style>
      	 footer {
      	 	width: 100%;
	         pointer-events: none;
	         display: flex;
	         flex-direction: row;      	 	
      	 }
         .flushleft paper-fab:first-child {
         	display:none
         }
         .flushright paper-fab:last-child {
         	display:none
         }		
         .navbutton {
         	pointer-events: initial;
         }	
      </style>        
      <footer class$="{{checkflush(selected)}}">
         <paper-fab icon="chevron-left"
         	mini 
            class="navbutton" 
            on-click="prev"				
            ></paper-fab>
         <div style="flex-grow: 1"></div>
         <paper-fab
         	mini  
            icon="chevron-right" 
            class="navbutton" 
            on-click="next"></paper-fab>
      </footer>
   </template>
   <script>
      Polymer({
        is: 'my-footer', 
        updateSelected: function (ns) {
        	document.querySelector('my-app').shadowRoot.querySelector('#mylistbox').selected = ns;
        },
        next: function () {
        	var ns = Math.min(document.querySelector('my-app').shadowRoot.querySelector('#mylistbox').items.length -1, document.querySelector('my-app').selected) + 1
        	this.updateSelected(ns);
        },
        prev: function () {
        	var ns = Math.max(1, document.querySelector('my-app').selected) - 1;
        	this.updateSelected(ns);
        },        
        checkflush: function(ign) {
        	//console.log('selected to:', ign)
        	if (this.selected == 0 ) { 
        		return "flushleft" 
        	} else if (document.querySelector('my-app').selected == document.querySelector('my-app').shadowRoot.querySelector('#mylistbox').items.length - 1 ) { 
        		return "flushright" 
        	}
        	return "";
        }
      });
   </script>
</dom-module>